<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css" />
    <title>Carbon Footprint Tracker</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
    <script src="lib/jquery-3.5.1.min.js"></script>
    <script src="lib/bootstrap.bundle.min.js"></script>
    <script src="lib/countdown.js"></script>
    <script src="lib/d3.min.js"></script>
    <script src="backend.js"></script>
    <script src="data.js"></script>
    <script src="carbon_visual.js"></script>
    <script src="index.js"></script>
    <script>
        $(document).ready(function(){
            check_login().then(ans => {
                if (ans) {
                    $("#callToAction").modal('hide');
                }
                else {
                    $("#callToAction").modal('show');
                }
            });
        });
    </script>
    
    <nav class="navbar-toggleable-md navbar-dark bd-faded fixed-top"> 
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
             <span class="navbar-toggler-icon"></span> 
        </button>
        <img src="logo.png">
        <a class="navbar-brand">Carbon Footprint Tracker </a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="ifLoggedOut nav-item" data-toggle="modal" data-target="#loginModal">
                    <a class="navbar-link">Login</a>
                </li>
                <li class="ifLoggedOut nav-item" data-toggle="modal" data-target="#registerModal">
                    <a class="navbar-link">Register</a>
                </li>
                <li class="ifLoggedIn nav-item" data-toggle="modal" data-target="#trackModal">
                    <a class="navbar-link">Track</a>
                </li>
                <li class="ifLoggedIn nav-item" onclick="logout(); location.reload();">
                    <a class="navbar-link">Logout</a>
                </li>
                
                <li class="ifLoggedIn nav-item dropdown">
                    <a class="navbar-link" href="#settings" role="button" data-toggle="collapse" data-target="#settings" aria-expanded="false" aria-controls="settings">
                        Settings <i class="fas fa-caret-down"></i>
                    </a>
                </li>
                <div class="collapse" id="settings">
                    <li class="nav-item">
                        <a class="navbar-link" data-toggle="modal" data-target="#sureDeleteItems"> Delete all Items</a>
                    </li>
                    <li class="nav-item">
                        <a class="navbar-link" data-toggle="modal" data-target="#changepw"> Change Password</a>
                    </li>
                    <li class="nav-item">
                        <a class="navbar-link" data-toggle="modal" data-target="#sureDeleteAccount"> Delete Account</a>
                    </li>
                </div>
                <li class="nav-item">
                    <a class="navbar-link" target="_blank" href="https://www.overshootday.org/">Learn more</a>
                </li>
                <li class="nav-item">
                    <a class="navbar-link" data-toggle="modal" data-target="#gdprModal">Privacy</a>
                </li>
            </ul>
        </div>
    </nav>


    <br/><br/>

    <div class="container text-center ifLoggedIn" id="carbon_vis_daily"></div>
    <!--
    <div class="container text-center" id="carbon_vis_monthly"></div>
    <div class="container text-center" id="carbon_vis_yearly"></div>
    -->

    <div class="container text-center">
        <div id="clock" class="countdown"></div>
    </div>
           
    <div class="ifLoggedIn container text-center">
        <p id="greeting"></p>
        <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#trackModal">Track Carbon usage now!</button>
    </div>
  
    <div class="container text-center">
        <h1>Fun fact about carbon emissions</h1>
        <p id="fact">Per day a cruise emits as much carbon as 84000 cars</p>
        <p id="source">- Utopia.de</p>
    </div>

    <div class="ifLoggedIn container text-center">
        <h1>One good deed a day challenge</h1>
        <p id="deeds">Inform yourself about ECO-friendly-electricity providers</p>
    </div>
  
    <div class="container text-center ifLoggedIn">
        <h1>Leaderboard</h1>
        <table class="table table-dark">
           <p>
                See who currently is the eco-friendliest user (die Nutzer die nix eingeben werden halt "gewinnen")
           </p>
        </thead> 
        <tbody id="ranking_table">
           <tr>
                <th scope="row">Ranking</th>
                <th scope="row">User</th>
                <th scope="row">Carbon footprint</th> 
            </tr>
            <script>
                rankings();
            </script>
        </tbody>
        </table>

    </div>
<div class="container text-center ifLoggedIn">
    <h1>Your personal statistics</h1>
    <p> 
        Check your total carbon usage
    </p>
   <!-- Button trigger modal -->
    <button type="button" class="btn btn-dark collapsed" data-toggle="modal" data-target="#statisticsModal">
       Go to overview
      </button>
    <!-- Modal -->
    <div class="modal fade" id="statisticsModal" tabindex="-1" role="dialog" aria-labelledby="statisticsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="statisticsModalLabel">Overview</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- statistics html-->
                    <div id="statisticsCategories" class="row text-center">
                        <button type="button" class="col-sm btn btn-dark collapsed" data-toggle="collapse" data-target="#weeklyCategory" aria-expanded="false" aria-controls="weeklyCategory">
                            Weekly
                        </button>
                        <button type="button" class="col-sm btn btn-dark collapsed" data-toggle="collapse" data-target="#monthlyCategory" aria-expanded="false" aria-controls="monthlyCategory">
                            Monthly
                        </button>
                        <button type="button" class="col-sm btn btn-dark collapsed" data-toggle="collapse" data-target="#yearlyCategory" aria-expanded="false" aria-controls="yearlyCategory">
                            Yearly
                        </button>
                    </div>
                    <div class="categoryform collapse" id="weeklyCategory" data-parent="#statisticsModal .modal-body"> 
                        Placeholder
                    </div>  
                    <div class="categoryform collapse" id="monthlyCategory" data-parent="#statisticsModal .modal-body"> 
                        Placeholder
                    </div>  
                    <div class="categoryform collapse" id="yearlyCategory" data-parent="#statisticsModal .modal-body"> 
                        Placeholder
                    </div>               
                </div>
             </div> 
            </div>
        </div>
    </div>
</div>


    <div class="modal fade" id="callToAction" tabindex="-1" role="dialog" aria-labelledby="callToActionLabel" aria-hidden="true">
        <div class="vertical-alignment-helper">
            <div class="modal-dialog vertical-align-center">
                <div class="modal-content" id="modal-content-call">
                    <div class="modal-header">
                        <h5 class="col-12 modal-title text-center" id="callToActionLabel">Welcome to your Carbon Footprint Tracker!</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <img id="RF" src="RF_and_bRF.png"></img>
                        <div class="text-center" id="modal-footer-call">
                            Now is your chance to really find out how big your impact on the enviroment is. Start counting and living more conscious.
                        </div> 
                    </div>
                    <div class="modal-footer">
                        <div class="text-center" id="modal-footer-call">
                            Lets get started: 
                        </div>                     
                        <button id="callButtons" type="button" class="btn btn-dark" data-toggle="modal" data-target="#registerModal" style="display: block; margin: 0 auto;" data-dismiss="modal">
                            Register
                        </button>
                        <div class="text" id="modal-footer-call">
                            Already have an Account:
                        </div>
                        <button id="callButtons" type="button" class="btn btn-dark" data-toggle="modal" data-target="#loginModal" style="display: block; margin: 0 auto;" data-dismiss="modal">
                            Login
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="registerModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="registerModalLabel">Create an account</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- registration html -->
                    <article class="card-body mx-auto">
                        <div class="social-login">
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-twitter"> <i class="fab fa-twitter"></i>Twitter</a>
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-facebook"> <i class="fab fa-facebook-f"></i>Facebook</a>
                        </div>
                        <form id="registerForm">
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                                </div>
                                <input name="" class="form-control" placeholder="Username" type="text" required>
                            </div>
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-envelope"></i> </span>
                                </div>
                                <input name="" class="form-control" placeholder="Email address" type="email" required>
                            </div>
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-birthday-cake"></i> </span>
                                </div>
                                <input name="birthdate" class="form-control" value="2000-01-01" min="1900-01-01" max="2100-01-01" type="date" required>
                            </div>
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                </div>
                                <input class="form-control" placeholder="Create password" type="password" required>
                            </div>
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                </div>
                                <input class="form-control" placeholder="Repeat password" type="password" required>
                            </div>
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-globe"></i> </span>
                                </div>
                                <select class="form-control" id="countrySelect">
                                    <option value="Germany" selected>Germany</option>
                                </select>
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fas fa-venus-mars"></i> </span>
                                </div>
                                <select class="form-control">
                                    <option value="Male" selected>Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                                </div>
                                <input name="" class="form-control" placeholder="Real name" type="text">
                            </div>
                            <div class="text-center">
                                <input type="checkbox" id="check" name="check" checked>
                                <label for="check"> Make me visible in the Leaderboards</label>
                            </div>
                            <p class="text-center">Already have an account? <a href data-dismiss="modal" data-toggle="modal" data-target="#loginModal">Login instead</a></p>
                            <p id="validationError" class="error text-center" style="color:red; display:none;">Please make sure you have entered the same password in the two password fields.</p>
                            <p id="registerError" class="error text-center" style="color:red; display:none;">There's already an account with this username or email.</p>
                        </form>
                    </article>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-dark" onclick="frontEndRegistration();">Register</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="loginModalLabel">Login with your account</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- login html -->
                    <article class="card-body mx-auto">
                        <div class="social-login">
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-twitter"> <i class="fab fa-twitter"></i>Twitter</a>
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-facebook"> <i class="fab fa-facebook-f"></i>Facebook</a>
                        </div>
                        <form id="loginForm">
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-user"></i> </span>
                                </div>
                                <input name="" class="form-control" placeholder="Username/Mail" type="text" required>
                            </div>
                            <div class="form-group input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                </div>
                                <input class="form-control" placeholder="Password" type="password" required>
                            </div>
                            <p class="text-center">Don't have an account yet? <a href data-dismiss="modal" data-toggle="modal" data-target="#registerModal">Register instead</a></p>
                            <p id="loginError" class="error text-center" style="color:red; display:none;">Incorrect Username or Password. Please try again.</p>
                        </form>
                    </article>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-dark" onclick="frontEndLogin();">Login</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="sureDeleteItems" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="loginModalLabel">Delete all items</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- settings html -->
                    <article class="card-body mx-auto">
                        <div id="itemForm">
                            <p id="validationError" class="text-center" style="color:red;">Are you sure you want to delete all items?</p>
                        </div>
                    </article>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                    <button type="submit" class="btn btn-dark" onclick="saveItemDelete();">Yes</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="changepw" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="loginModalLabel">Change Password</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <article class="card-body mx-auto">
                        <form id="pwForm">
                            <div class="form-group input-group" >
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                </div>
                                <input class="form-control" placeholder="Old password" type="password" required>
                            </div>
                            <div class="form-group input-group" >
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                </div>
                                <input class="form-control" placeholder="New password" type="password" required>
                            </div>
                            <div class="form-group input-group" >
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                </div>
                                <input class="form-control" placeholder="Repeat new password" type="password" required>
                            </div>
                        </form>
                        <p id="passwordError" class="error text-center" style="color:red; display:none;">Please make sure you have entered the correct Password</p>
                        <p id="passwordError2" class="error text-center" style="color:red; display:none;">Please make sure you have entered the same password in the two password fields.</p>
                    </article>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-dark" onclick="saveChangePw();" data-target="#passwordConfirm">Change Password</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="passwordConfirm" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="loginModalLabel">Your new Password has been set</h5>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="sureDeleteAccount" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="loginModalLabel">Delete Account</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <article class="card-body mx-auto">
                        <div id="accountForm">
                            <p id="validationError" class="text-center" style="color:red;">Are you sure you want to delete your Account? This process is irreversible!</p>
                            <br/>
                            <div class="form-group input-group" >
                                <div class="input-group-prepend">
                                    <span class="input-group-text"> <i class="fa fa-lock"></i> </span>
                                </div>
                                <input class="form-control" placeholder="Confirm Password" type="password" required>
                            </div>
                        </div>
                        <p id="passwordErrorPW" class="error text-center" style="color:red; display:none;">Please make sure you have entered the correct Password</p>
                    </article>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-dark" onclick="saveAccountDelete();">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="shareModal" tabindex="-1" role="dialog" aria-labelledby="shareModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="shareModalLabel">Share your sucess via:</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- share html -->
                    <article class="card-body mx-auto">
                        <div class="social-login">
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-twitter"> <i class="fab fa-twitter"></i>Twitter</a>
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-facebook"> <i class="fab fa-facebook-f"></i>Facebook</a>
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-instagram"> <i class="fab fa-instagram"></i>Instagram</a>
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-envelope"> <i class="fas fa-envelope"></i>E-Mail</a>
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-whatsapp"> <i class="fab fa-whatsapp"></i>WhatsApp</a>
                            <a onclick="alert('This functionality is not implemented yet.')" class="btn btn-block btn-snapchat"> <i class="fab fa-snapchat"></i>Snapchat</a>
                        </div>
                    </article>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="trackModal" tabindex="-1" role="dialog" aria-labelledby="trackModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="trackModalLabel">Track Carbon Usage</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- track html -->
                    <div id="trackCategories" class="row text-center">
                        <button type="button" class="col-sm btn btn-dark collapsed" data-toggle="collapse" data-target="#transportationCategory" aria-expanded="false" aria-controls="transportationCategory">
                            Transportation
                        </button>
                        <button type="button" class="col-sm btn btn-dark collapsed" data-toggle="collapse" data-target="#purchaseCategory" aria-expanded="false" aria-controls="purchaseCategory">
                            Purchase
                        </button>
                        <button type="button" class="col-sm btn btn-dark collapsed" data-toggle="collapse" data-target="#householdCategory" aria-expanded="false" aria-controls="householdCategory">
                            Household
                        </button>
                        <button type="button" class="col-sm btn btn-dark collapsed" data-toggle="collapse" data-target="#otherCategory" aria-expanded="false" aria-controls="otherCategory">
                            Other
                        </button>
                    </div>
                    <div class="categoryform collapse" id="transportationCategory" data-parent="#trackModal .modal-body">
                        <article class="card-body mx-auto">
                            <form id="transportationForm">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-road"></i> </span>
                                    </div>
                                    <select class="form-control">
                                        <option value="GasCar" selected>Gas Car</option>
                                        <option value="Motorcycle">Motorcycle</option>
                                        <option value="Truck">Truck</option>
                                        <option value="ElectricCar">Electric Car</option>
                                        <option value="Bus">Bus</option>
                                        <option value="Train">Train</option>
                                        <option value="Plane">Plane</option>
                                        <option value="Boat">Boat</option>
                                    </select>
                                </div>
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-route"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="Distance in km" type="number" min="0.001" step="0.001" required>
                                </div>
                                <div data-dep="GasCar Motorcycle Truck" class="form-group input-group" style="display: flex;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-gas-pump"></i> </span>
                                    </div>
                                    <select class="form-control">
                                        <option value="gas" selected>Gasoline</option>
                                        <option value="diesel">Diesel</option>
                                        <option value="lpg">Autogas (LPG)</option>
                                        <option value="cng">Compressed Natural Gas (CNG)</option>
                                    </select>
                                </div>
                                <div data-dep="GasCar Motorcycle Truck" class="form-group input-group" style="display: flex;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-burn"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="Avg. Fuel Consumption in l/100km" type="number" min="1" step="0.01" required>
                                </div>
                                <div data-dep="ElectricCar" class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-charging-station"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="Avg. Energy Consumption in Wh/km" type="number" min="1" step="0.01">
                                </div>
                            </form>
                        </article>
                    </div>
                    <div class="categoryform collapse" id="purchaseCategory" data-parent="#trackModal .modal-body">
                        <!-- MPS-15 -->
                        To Do: Implement form for purchase Category
                    </div>
                    <div class="categoryform collapse" id="householdCategory" data-parent="#trackModal .modal-body">
                        <article class="card-body mx-auto">
                            <form id="householdForm">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-home"></i> </span>
                                    </div>
                                    <select class="form-control">
                                        <option value="electricity" selected>Electricity</option>
                                        <option value="naturalgas">Gas</option>
                                        <option value="water">Water</option>
                                        <option value="oil">Heating Oil</option>
                                        <option value="propane">Propane/Butane</option>
                                        <option value="coal">Coal</option>
                                        <option value="woodpellets">Wood Pellets</option>
                                    </select>
                                </div>
                                <div data-dep="electricity naturalgas" class="form-group input-group" style="display: flex;">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-bolt"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="Usage in kWh" type="number" min="1" step="0.01" required>
                                </div>
                                <div data-dep="electricity" style="display: flex;">
                                    <small>Reference Grid: <span id="grid">none</span></small>
                                </div>
                                <div data-dep="water oil propane" class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-tint"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="Usage in litres" type="number" min="1" step="0.1" required>
                                </div>
                                <div data-dep="coal woodpellets" class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-fire-alt"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="Usage in tonnes" type="number" min="0" step="0.001" required>
                                </div>
                            </form>
                        </article>
                    </div>
                    <div class="categoryform collapse" id="otherCategory" data-parent="#trackModal .modal-body">
                        <article class="card-body mx-auto">
                            <form id="otherForm">
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-pen"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="Name/Note" type="text" required>
                                </div>
                                <div class="form-group input-group">
                                    <div class="input-group-prepend">
                                        <span class="input-group-text"> <i class="fa fa-wind"></i> </span>
                                    </div>
                                    <input class="form-control" placeholder="CO2 in kg" type="number" min="0.001" step="0.001" required>
                                </div>
                            </form>
                        </article>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <span id="trackSubmit" class="d-inline-block" data-toggle="popover" data-trigger="hover" data-content="Please select a category first.">
                        <button type="submit" class="btn btn-dark" onclick="calculateCarbonUsage();" disabled>Track!</button>
                    </span>
                </div>
            </div>
        </div>
    </div>
  
    <div class="modal fade" id="gdprModal" tabindex="-1" role="dialog" aria-labelledby="gdprModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="gdprModalLabel">Data Privacy</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>This Carbon Footprint Tracker is currently in its <b>Testing Phase</b>. This Privacy Policy document contains types of information that is collected and recorded by our webapp and how we use it.</p>
                    <p>If you have additional questions or require more information about our Privacy Policy, do not hesitate to <a href="mailto:nico.hoechstaedter@fau.de">contact us</a>.</p>
                    <h2>General Data Protection Regulation (GDPR)</h2>
                    <p>We are a Data Controller of your information.</p>
                    <p>Carbon Footprint Trackers legal basis for collecting and using the personal information described in this Privacy Policy depends on the Personal Information we collect and the specific context in which we collect the information:</p>
                    <ul>
                        <li>The Carbon Footprint Tracker needs to perform a contract with you</li>
                        <li>You have given this Carbon Footprint Tracker permission to do so</li>
                        <li>Processing your personal information is in Carbon Footprint Trackers legitimate interests</li>
                        <li>This Carbon Footprint Tracker needs to comply with the law</li>
                    </ul>
                    <p>This Carbon Footprint Tracker will retain your personal information only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your information to the extent necessary to comply with our legal obligations, resolve disputes, and enforce our policies.</p>
                    <p>If you are a resident of the European Economic Area (EEA), you have certain data protection rights. If you wish to be informed what Personal Information we hold about you and if you want it to be removed from our systems, please <a href="mailto:nico.hoechstaedter@fau.de">contact us</a>.</p>
                    <p>In certain circumstances, you have the following data protection rights:</p>
                    <ul>
                        <li>The right to access, update or to delete the information we have on you.</li>
                        <li>The right of rectification.</li> 
                        <li>The right to object.</li>
                        <li>The right of restriction.</li>
                        <li>The right to data portability.</li>
                        <li>The right to withdraw consent.</li>
                    </ul>
                    <h2>Privacy Policies</h2>
                    <p>This page is hosted on Github Pages. Their <a href="https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement" target="_blank">Privacy Policy</a> applies.</p>
                    <p>The Carbon Footprint Tracker uses no further tools which track users.</p>
                    <p>If you choose to register on this Website, the information you entered during registration will be saved on a server in Germany, hosted by <a href="https://contabo.de/" target="_blank">Contabo</a>.</p>
                    <h2>Cookies and local Storage</h2>
                    <p>The Carbon Footprint Tracker does not use any cookies. It does, however, save information in your browser's local storage in order to remember whether you are logged in. If you choose not to register or log in at all, no data is saved.</p>
                    <h2>Log Files</h2>
                    <p>The Carbon Footprint Tracker follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.</p>
                    <h2>Children's Information</h2>
                    <p>Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.</p>
                    <p>Carbon Footprint Tracker does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.</p>
                    <h2>Online Privacy Policy Only</h2>
                    <p>Our Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in Carbon Footprint Tracker. This policy is not applicable to any information collected offline or via channels other than this website.</p>
                    <h2>Consent</h2>
                    <p>By using our website, you hereby consent to our Privacy Policy and agree to its terms.</p>
                    <small>This privacy policy was generated with the help of <a href="https://www.gdprprivacynotice.com/" target="_blank">https://www.gdprprivacynotice.com/</a>, but adjusted by us to meet the criteria of our specific usecase.</small>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="gdprModal" tabindex="-1" role="dialog" aria-labelledby="gdprModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="col-12 modal-title text-center" id="gdprModalLabel">Data Privacy</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>This Carbon Footprint Tracker is currently in its <b>Testing Phase</b>. This Privacy Policy document contains types of information that is collected and recorded by our webapp and how we use it.</p>
                    <p>If you have additional questions or require more information about our Privacy Policy, do not hesitate to <a href="mailto:nico.hoechstaedter@fau.de">contact us</a>.</p>
                    <h2>General Data Protection Regulation (GDPR)</h2>
                    <p>We are a Data Controller of your information.</p>
                    <p>Carbon Footprint Trackers legal basis for collecting and using the personal information described in this Privacy Policy depends on the Personal Information we collect and the specific context in which we collect the information:</p>
                    <ul>
                        <li>The Carbon Footprint Tracker needs to perform a contract with you</li>
                        <li>You have given this Carbon Footprint Tracker permission to do so</li>
                        <li>Processing your personal information is in Carbon Footprint Trackers legitimate interests</li>
                        <li>This Carbon Footprint Tracker needs to comply with the law</li>
                    </ul>
                    <p>This Carbon Footprint Tracker will retain your personal information only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use your information to the extent necessary to comply with our legal obligations, resolve disputes, and enforce our policies.</p>
                    <p>If you are a resident of the European Economic Area (EEA), you have certain data protection rights. If you wish to be informed what Personal Information we hold about you and if you want it to be removed from our systems, please <a href="mailto:nico.hoechstaedter@fau.de">contact us</a>.</p>
                    <p>In certain circumstances, you have the following data protection rights:</p>
                    <ul>
                        <li>The right to access, update or to delete the information we have on you.</li>
                        <li>The right of rectification.</li> 
                        <li>The right to object.</li>
                        <li>The right of restriction.</li>
                        <li>The right to data portability.</li>
                        <li>The right to withdraw consent.</li>
                    </ul>
                    <h2>Privacy Policies</h2>
                    <p>This page is hosted on Github Pages. Their <a href="https://docs.github.com/en/free-pro-team@latest/github/site-policy/github-privacy-statement" target="_blank">Privacy Policy</a> applies.</p>
                    <p>The Carbon Footprint Tracker uses no further tools which track users.</p>
                    <p>If you choose to register on this Website, the information you entered during registration will be saved on a server in Germany, hosted by <a href="https://contabo.de/" target="_blank">Contabo</a>.</p>
                    <h2>Cookies and local Storage</h2>
                    <p>The Carbon Footprint Tracker does not use any cookies. It does, however, save information in your browser's local storage in order to remember whether you are logged in. If you choose not to register or log in at all, no data is saved.</p>
                    <h2>Log Files</h2>
                    <p>The Carbon Footprint Tracker follows a standard procedure of using log files. These files log visitors when they visit websites. All hosting companies do this and a part of hosting services' analytics. The information collected by log files include internet protocol (IP) addresses, browser type, Internet Service Provider (ISP), date and time stamp, referring/exit pages, and possibly the number of clicks. These are not linked to any information that is personally identifiable. The purpose of the information is for analyzing trends, administering the site, tracking users' movement on the website, and gathering demographic information.</p>
                    <h2>Children's Information</h2>
                    <p>Another part of our priority is adding protection for children while using the internet. We encourage parents and guardians to observe, participate in, and/or monitor and guide their online activity.</p>
                    <p>Carbon Footprint Tracker does not knowingly collect any Personal Identifiable Information from children under the age of 13. If you think that your child provided this kind of information on our website, we strongly encourage you to contact us immediately and we will do our best efforts to promptly remove such information from our records.</p>
                    <h2>Online Privacy Policy Only</h2>
                    <p>Our Privacy Policy applies only to our online activities and is valid for visitors to our website with regards to the information that they shared and/or collect in Carbon Footprint Tracker. This policy is not applicable to any information collected offline or via channels other than this website.</p>
                    <h2>Consent</h2>
                    <p>By using our website, you hereby consent to our Privacy Policy and agree to its terms.</p>
                    <small>This privacy policy was generated with the help of <a href="https://www.gdprprivacynotice.com/" target="_blank">https://www.gdprprivacynotice.com/</a>, but adjusted by us to meet the criteria of our specific usecase.</small>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</body>

</html>